---
layout: default
---

# About
![docker pulls](https://img.shields.io/docker/pulls/malab/pea.svg)
![docker stars](https://img.shields.io/docker/stars/malab/pea.svg)

DeepEA is a Galaxy-based framework for exploring large-scale analysis of epitranscriptome sequencing data. DeepEA is an upgrated version of PEA, which is a special designed R toolkit for plant epitranscriptome analysis. In the current version of DeepEA, a variety of modules and functions including Data Preparation, Quality Control, CMR (chemical modifications of RNA) profiling and analysis, CMR annotation, CMR prediction and related visualization are implemented to enable users perform large-scale, reproducible epitranscriptome analysis. In addition, by taking advantages of multiple instance learning (MIL) algorithms, DeepEA can precisely localize CMRs in peak regions. This can reduce the false positive CMRs generated by MeRIP-Seq/m6A-Seq/m5C-RIP-Seq, as which can localize CMRs to transcript regions of 100-200 nucleotide long but fail to accurately identify CMRs at single-nucleotide solution. The deePEA project is hosted on https://github.com/cma2015/DeepEA. The DeepEA web server can accessed via http://bioinfo.nwafu.edu.cn:4006.

<div id="top"></div>

[<img align="left" src="assets/img/deNBI_logo.jpg" height="35px" alt="de.NBI" valign="middle">](http://www.denbi.de)
[<img align="center" src="assets/img/elixir_germany.png" height="55px" alt="ELIXIR Germany" valign="middle">](https://www.elixir-europe.org)

- [Installation](#installation)
	- [Docker installation](#docker-installation)
	- [DeepEA quick start](#deepea-quick-start)
- [Pre-analysis](pre-analysis)
	- [Data Preparation](#data-preparation)
	- [Quality control](#quality-control)
- [Core-analysis](#core-analysis)
	- [CMR Profiling](#cmr-profiling)
		- [Align Reads to Genome](#align-reads-to-genome)
			- [Tophat2](#tophat2)
			- [Bowtie2](#bowtie2)
			- [STAR](#star)
			- [HISAT2](#hisat2)
		- [CMR Calling](#cmr-calling)
			- [Peak Calling from the MeRIP-Seq data](#peak-calling-from-the-merip-seq-data)
			- [Calling m5C from the RNA-BSeq data](#calling-m5c-from-the-rna-bseq-data)
			- [CMR Calling from the miCLIP-Seq data](#calling-m5c-from-the-miclip-seq-data)
			- [Calling pseudouridine from CeU-Seq data](#calling-pseudouridine-from-ceu-seq-data)
		- [Merge Biological Replicates](#merge-biological-replicates)
	- [CMR Annotation and Visualization](#cmr-annotation-and-visualization)
		- [Distribution Analysis](#distribution-analysis)
		- [Motif Analysis](#motif-analysis)
		- [Sequence Logo Visualization](#sequence-logo-visualization)
		- [Functional Enrichment Analysis](#functional-enrichment-analysis)
- [Advanced-analysis](#advanced-analysis)
- [How to access help](#how-to-access-help)


# Installation
## Docker installation

> Official installation tutorial is available at [here](https://docs.docker.com/install)

### For Windows (Test on Windows 10 Enterprise version):
* Download [Docker](<https://download.docker.com/win/stable/Docker%20for%20Windows%20Installer.exe>) for windows </br>
* Double click the EXE file to open it;
* Follow the wizard instruction and complete installation;
* Search docker, select ___Docker for Windows___ in the search results and clickit.

### For Mac OS X (Test on macOS Sierra version 10.12.6 and macOS High Sierra version 10.13.3):
* Download [Docker](<https://download.docker.com/mac/stable/Docker.dmg>) for Mac OS X
* Double click the DMG file to open it;
* Drag the docker into Applications and complete installation;
* Start docker from Launchpad by click it.

### For Ubuntu (Test on Ubuntu 16.04 LTS):

```bash
# Update the apt package index:
sudo apt-get update
# Install packages to allow apt to use a repository over HTTPS:
sudo apt-get install \
    apt-transport-https \
    ca-certificates \
    curl \
    software-properties-common
# Add Dockerâ€™s official GPG key
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
sudo apt-key fingerprint 0EBFCD88
sudo add-apt-repository \
   "deb [arch=amd64] https://download.docker.com/linux/ubuntu \
   $(lsb_release -cs) \
   stable"
sudo apt-get update
sudo apt-get install docker-
# Verify that Docker CE is installed correctly by running the hello-world image
sudo docker run hello-world
```

### Verify if Docker is installed correctly

Once Docker installation is completed, we can run ____hello-world____ image to verify if Docker is installed correctly. Open terminal in Mac OS X and Linux operating system and open CMD for Windows operating system, then type the following command:

```bash
$ docker run hello-world
```
**<font color =red>Note</font>:** root permission is required for Linux operating system, if you want to manage docker as a non-root user, please refer [here](https://docs.docker.com/install/linux/linux-postinstall)



## DeepEA quick start

DeepEA has been packaged into a docker image, which can be easily installed as a local server by following command.

```bash
# pull DeepEA from docker hub
docker pull malab/deepea
docker run -it malab/deepea /bin/bash
bash run.sh
```

Then DeepEA local server can be accessed via `http://localhost:8080`

# Pre-analysis

**Pre-analysis** module is composed of two sub-modules: [Data Preparation](#data-preparation) and [Quality Control](#quality-control). These two sub-modules make up the important components of Epitranscriptome.

## Data Preparation

This sub-module provides three funcitons (see following table for details) to prepare epitranscriptome data.

Tool | Description | Input | Output | Reference
--- | --- | --- | --- | ---
[Obtain Genome Sequences and Annotation](http://bioinfo.nwafu.edu.cn:4006/?tool_id=Obtain_Genome_or_Transcriptome_Sequences_and_Annotation&version=18.09&__identifer=dclshuq6eet) | Fetch genome, cDNA, CDS sequences and annotation from Enseml automatically | Select an Ensembl database; Select a species; Select dada type | FASTA format sequences or GTF annotation | In-house scripts
[Obtain Epitranscriptome Sequencing and Reads](http://bioinfo.nwafu.edu.cn:4006/?tool_id=Obtain_Epitranscriptome_Sequencing_Reads&version=18.09&__identifer=3bj51oj9isq) | Fetch epitranscriptome sequencing reads from NCBI's SRA database | SRR accession or HTTP/FTP link | Sequencing files in SRA/FASTQ format  | [SRA Toolkit](https://www.ncbi.nlm.nih.gov/sra/docs/toolkitsoft)
[Sequencing Data Preprocessing](http://bioinfo.nwafu.edu.cn:4006/?tool_id=Convert_Format&version=18.09&__identifer=uib940h4pb) | xxx | xxx | xxx | In-house scripts


## Quality Control
**Quality Control** submodule consisted of a suite of tools focused on different levels of quality assessment including reads quality, alignment quality and CMR quality, Thus, three functions are implemented including **Assess Reads Quality**, **Assess Alignment Quality** and **Assess CMR quality**. The details of as follows:

<!-- 
| Tool | Description | Main functions | Input | Output | Programs | Reference |
| --- | --- | --- | --- | --- | --- | --- |
| [Assess Reads Quality](http://bioinfo.nwafu.edu.cn:4006/?tool_id=Assess_Reads_Quality&version=18.09&__identifer=gr96n8z0sag) | This tool integrates FastQC and fastp to perform quality control from raw epitranscriptome sequencing reads | Reads trimming and generate reads quality report including sequence quality, GC content, etc |  Sequencing reads in FASTQ format | Clean reads or reads quality report in HTML format |  [FastQC](https://www.bioinformatics.babraham.ac.uk/projects/fastqc/),[fastp](https://github.com/OpenGene/fastp) | [Chen *et al*., 2018, Bioinformatics](https://doi.org/10.1093/bioinformatics/bty560), [Babraham Bioinformatics](http://www.bioinformatics.babraham.ac.uk/projects/fastqc) | 
| [Assess Alignment Quality](http://bioinfo.nwafu.edu.cn:4006/?tool_id=Assess_Alignment_Quality&version=18.01&__identifer=3uvvorrbx2s) | This function is used to generate quality assessment. | Evaluate alignment quality | Reads alignment fies in SAM/BAM format| Alignment quality report in HTML format | [trumpet](https://github.com/skyhorsetomoon/Trumpet) |  [Zhang et al., 2018, BMC Bioinformatics](https://bmcbioinformatics.biomedcentral.com/articles/10.1186/s12859-018-2266-3) | 
| [Assess CMR Quality](http://bioinfo.nwafu.edu.cn:4006/?tool_id=Assess_CMR_Regions_Quality&version=18.01&__identifer=yu0s7b4tvw7) | This tool aims to quantify CMR signal strength by counting reads and calculating RPKM in binding site intervals | Quantify CMRs | Alignments in SAM/BAM format | CMR quantification matrix | [DiffBind](https://bioconductor.org/packages/release/bioc/html/DiffBind.html) | [Wu *et al*., 2016, frontiers in Genetics](https://www.frontiersin.org/articles/10.3389/fgene.2015.00169/full) | -->


<table border="1" align="center" cellspacing="0" cellpadding="">
<thead>
<tr><th>Tool</th><th>Description</th><th>Main functions</th><th>Input</th><th>Output</th><th>Programs</th><th>Reference</th></tr></thead>
<tbody><tr><td><a href='http://bioinfo.nwafu.edu.cn:4006/?tool_id=Assess_Reads_Quality&amp;version=18.09&amp;__identifer=gr96n8z0sag'>Assess Reads Quality</a></td><td>This tool integrates FastQC and fastp to perform quality control from raw epitranscriptome sequencing reads</td><td>Reads trimming and generate reads quality report including sequence quality, GC content, etc</td><td>Sequencing reads in FASTQ format</td><td>Clean reads or reads quality report in HTML format</td><td><a href='https://www.bioinformatics.babraham.ac.uk/projects/fastqc/'>FastQC</a>,<a href='https://github.com/OpenGene/fastp'>fastp</a></td><td><a href='https://doi.org/10.1093/bioinformatics/bty560'>Chen <em>et al</em>., 2018, Bioinformatics</a>, <a href='http://www.bioinformatics.babraham.ac.uk/projects/fastqc'>Babraham Bioinformatics</a></td></tr><tr><td><a href='http://bioinfo.nwafu.edu.cn:4006/?tool_id=Assess_Alignment_Quality&amp;version=18.01&amp;__identifer=3uvvorrbx2s'>Assess Alignment Quality</a></td><td>This function is used to generate quality assessment.</td><td>Evaluate alignment quality</td><td>Reads alignment fies in SAM/BAM format</td><td>Alignment quality report in HTML format</td><td><a href='https://github.com/skyhorsetomoon/Trumpet'>trumpet</a></td><td><a href='https://bmcbioinformatics.biomedcentral.com/articles/10.1186/s12859-018-2266-3'>Zhang et al., 2018, BMC Bioinformatics</a></td></tr><tr><td><a href='http://bioinfo.nwafu.edu.cn:4006/?tool_id=Assess_CMR_Regions_Quality&amp;version=18.01&amp;__identifer=yu0s7b4tvw7'>Assess CMR Quality</a></td><td>This tool aims to quantify CMR signal strength by counting reads and calculating RPKM in binding site intervals</td><td>Quantify CMRs</td><td>Alignments in SAM/BAM format</td><td>CMR quantification matrix</td><td><a href='https://bioconductor.org/packages/release/bioc/html/DiffBind.html'>DiffBind</a></td><td><a href='https://www.frontiersin.org/articles/10.3389/fgene.2015.00169/full'>Wu <em>et al</em>., 2016, frontiers in Genetics</a></td></tr></tbody>
</table>

# Core-analysis



# Advanced-analysis

# How to access help
* If users encounter any bugs or issues, feel free to leave a message at Github [issues](<https://github.com/cma2015/DeepEA/issues>). We will try our best to deal with all issues as soon as possible.
* In addition, if any suggestions are available, feel free to contact: __Jingjing Zhai <zhaijingjing603@gmail.com> or __Chuang Ma__ <chuangma2006@gmail.com>
