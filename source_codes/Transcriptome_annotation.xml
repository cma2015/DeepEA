<tool id="annotation2" name="Transcriptome Annotation"  version='18.09'	>
  <description></description>
  <command><![CDATA[
	ln -sf '${gff}' '${gff}.gff' ;
	Rscript $__tool_directory__/distribution.R $peak1 '${gff}.gff' $outfile_anno;
  ]]></command>
  <inputs>
	<param name="peak1" type="data" format="bed,encodepeak" label="The peakcalling region." />
	<param name="gff" type="data" format="gff,gtf,gff3" label="Reference GFF" />
  </inputs>
  <stdio>
	<exit_code range="1:"  level="fatal" description="Error Running combine collection to a file" />
  </stdio>
  <outputs> 
	<data name="outfile_anno" format="tsv" label="${tool.name} on ${on_string}: Transcriptome annotation.txt">
	</data>
  </outputs>
  <help>

.. class:: infomark

**What it does**

This function can be used to perform integrated analyses of a set of CMRs against a transcriptome annotation file for a specific organism, identifying the overlabs transcript.

-------------

.. class:: infomark

**Input**

**CMR region** - The CMR data must be in a tabular file (as **bed**) with at least 3 columns of data for each CMR (one CMR per line):

====== ========== =================================
Column Name       Description
====== ========== =================================
     1 chr        Chromosome name
     2 start      Start position of the CMRs
     3 end        End position of the CMRs
====== ========== =================================

-------------

**Reference GFF** - The annotion file requires the standard **gff/gff3** format, recommended download from ensemble plant database.

-------------

.. class:: infomark

**Outputs**

**Transcriptome annotation.txt** - The output of the tool is to map CMRs to their overlapping transcripts and provide a list of correspondences.


====== ============ ===========================================
Column Name         Description
====== ============ ===========================================
     1 name         Transcripts name
     2 transcripts  Number of CMRs located in the transcript
     3 exons        Number of CMRs located in the exons
     4 promoters    Number of CMRs located in the promoters
     5 fiveUTRs     Number of CMRs located in the fiveUTRs
     6 introns      Number of CMRs located in the introns
     7 cds          Number of CMRs located in the cds
     8 threeUTRs    Number of CMRs located in the threeUTRs
====== ============ ===========================================



</help>
</tool>


