<tool id="annotation" name="Gene annotation">
  <description></description>
  <command><![CDATA[

	ln -sf '${gff}' '${gff}.gff' ;
	Rscript $__tool_directory__/annotation.R $peak1 '${gff}.gff' $Type.type $outfile_anno;



  ]]></command>
  <inputs>
	<param name="peak1" type="data" format="bed,encodepeak" label="The peakcalling region." />
	<param name="gff" type="data" format="gff,gtf,gff3" label="Reference GFF" />
	<conditional name="Type">
		<param name="type" type="select" label="Annotation mode" >
			<option value="gene_to_type">Comment peak in the gene region</option>
			<option value="peak_to_gene">Comment gene on the peak</option>
		</param>
	</conditional>
  </inputs>
  <stdio>
	<exit_code range="1:"  level="fatal" description="Error Running combine collection to a file" />
  </stdio>
  <outputs> 
	<data name="outfile_anno" format="tsv" label="${tool.name} on ${on_string}: Gene annotation.txt">
	</data>
  </outputs>
</tool>


