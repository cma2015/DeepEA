<tool id="Prediction" name="CMR prediction"  version='18.09'>
  <description></description>
  <command><![CDATA[

	Rscript $__tool_directory__/genome_sample.R 
	$GTF 
	$Refgenome 
	$motif ;

	Rscript $__tool_directory__/seq_convert.R  'out' 'out' ;
	python $__tool_directory__/m6A_model_prediction.py 'out' $model_file $scale_file $predict_res ;
	
  ]]></command>
  <inputs>
	<param name="Refgenome" type="data" format="fa,fasta,fas" label="Reference genome" />
	<param name="GTF" type="data" format="gtf,gff2" label="Reference annotation file (GTF)" />
	<param name="motif" type="text" value="RRACH" label="Motif" help="e.g., RRACH "></param>

	<param name="model_file" type="data" format="data" label="Model" />
	<param name="scale_file" type="data" format="data" label="The normalized parameter file" />
  </inputs>
  <stdio>
	<exit_code range="1:"  level="fatal" description="Error Running combine collection to a file" />
  </stdio>
  <outputs> 
	<data name="predict_res" format="tsv" label="${tool.name} on ${on_string}: Predicted CMR.txt">
	</data>
  </outputs>
	<help>
.. class:: infomark

**What it does**

This function can be used to perform transcriptome-wide CMR prediction based on the model trained by module **Machine learning based CMR Prediction**.

.. class:: infomark

**Inputs**

- **Reference genome:** The reference genome sequence in FASTA format.

- **Reference annotation file (GTF):** The reference annotation file in GTF format.

- **Model:** The MIL-based model generated by module **Machine learning based CMR Prediction**.

- **The normalized parameter file:** The normalized parameters generated by module **Machine learning based CMR Prediction**.

.. class:: infomark

**Parameters**

- **Motif:** A string specified the motif.

.. class:: infomark

**Outputs**

- **Predicted CMR.txt:** The predicted CMRs.


  </help>


</tool>


